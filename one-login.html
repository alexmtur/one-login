<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../one-modal/one-modal.html">
<!-- <link rel="import" href="../polymerfire/firebase-app.html"> -->
<link rel="import" href="../polymerfire/firebase-auth-script.html">
<!-- <link rel="import" href="../polymerfire/firebase-database-script.html">
<link rel="import" href="../polymerfire/firebase-storage-script.html">
<link rel="import" href="../polymerfire/firebase-messaging-script.html"> -->

<dom-module id="one-login">
    <template>
        <style>
            :host {
                display: block;
            }
        </style>
        <firebase-auth id="auth" user="{{user}}" provider="google" on-error="handleError">
        </firebase-auth>
        <one-modal open="{{open}}">
        hey there babe
        <one-modal>
        
    </template>

    Open if the user is not logged in!!

  <script>
  Polymer({
    is: "one-login",
    properties: {
        uid: String,
        data: {
            type: Object,
            observer: 'dataChanged'
        },
        open: {
            type: Boolean,
            value: false,
            reflectToAttribute: true,
            notify: true,
            observer: '_openChanged'
        },
        loginId: String,
        user: Object,
        myUserId: String,
        profilePath: String,
        profile: Object,
        text: String,
        offlinelogin: {type: Object, value: {}},
        //history on-off, handle push notifications
    },
    signIn: function () {
        this.$.auth.signInWithPopup()
        .then(function(response) { })
        .catch(function(error) { });
        // 'facebook'
        // 'github'
        // 'google'
        // 'twitter'
        // createUserWithEmailAndPassword(email: !String, password: !String): Promise
        // Creates a new user account using an email / password combination.

        // signInAnonymously(): Promise
        // Authenticates a Firebase client using a new, temporary guest account.

        // signInWithCredential(credential): Promise
        // Authenticates a Firebase client using an oauth id_token.

        // signInWithCustomToken(token): Promise
        // Authenticates a Firebase client using a custom JSON Web Token.

        // signInWithEmailAndPassword(email: !String, password: !String): Promise
        // Authenticates a Firebase client using an email / password combination.

        // signInWithPopup(provider: ?String): Promise
        // Authenticates a Firebase client using a popup-based OAuth flow.

        // signInWithRedirect(provider: ?String): Promise
        // Authenticates a firebase client using a redirect-based OAuth flow.

        // signOut(): Promise
        // Unauthenticates a Firebase client.
    },
    signOut: function () {
        signOut();
    }

  });
</script>
</dom-module>

<iron-iconset-svg name="my-svg-icons" size="24">
  <svg>
    <defs>
      <g id="shape">
        <rect x="12" y="0" width="12" height="24" />
        <circle cx="12" cy="12" r="12" />
      </g>
    </defs>
  </svg>
</iron-iconset-svg>

